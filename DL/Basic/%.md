在 Python 中，`%`符号主要有两类用途：​**字符串格式化**和**模运算**。以下是其核心用法的整合说明：

---

### 🧩 一、字符串格式化（传统方法）

`%`用于将变量嵌入字符串模板，通过占位符控制格式。

#### 1. ​**基础占位符**​

- `%s`：字符串（自动调用 `str()`转换）
    
- `%d`：整数
    
- `%f`：浮点数（可指定精度，如 `%.2f`保留两位小数）
    

```
name = "Alice"
age = 30
height = 1.75
print("Name: %s, Age: %d, Height: %.1f" % (name, age, height))  
# 输出：Name: Alice, Age: 30, Height: 1.8
```

#### 2. ​**格式化控制**​

- ​**宽度与对齐**​：
    
    - `%10s`：右对齐，宽度 10
        
    - `%-10s`：左对齐，宽度 10
        
    
- ​**零填充**​：`%05d`→ 整数宽度 5，不足位补零（如 `42`→ `00042`）
    

```
print("|%10s| |%-10s|" % ("Hi", "Hi"))  # 输出：|        Hi| |Hi        |
```

#### 3. ​**字典传参**​

使用键名动态插入值，避免顺序依赖：

```
data = {"name": "Bob", "job": "Engineer"}
print("Name: %(name)s, Job: %(job)s" % data)  # 输出：Name: Bob, Job: Engineer
```

#### 4. ​**特殊处理**​

- ​**转义 `%`**​：用 `%%`输出百分号本身
    
    ```
    print("折扣: %d%%" % 20)  # 输出：折扣: 20%
    ```
    
- ​**非字符串类型**​：`%s`可自动转换数字、对象等（如 `"%s" % 100`→ `"100"`）。
    

---

### 🔢 二、模运算（求余数）

`%`作为数学运算符，计算两数相除的余数。

#### 1. ​**基本规则**​

```
10 % 3  # 余数 = 1（10 ÷ 3 = 3 余 1）
```

#### 2. ​**负数处理**​

- ​**余数符号与除数相同**​：
    
    ```
    -10 % 3   # 输出 2（-10 ÷ 3 = -4 余 2）  
    10 % -3   # 输出 -2（10 ÷ -3 = -4 余 -2）
    ```
    

#### 3. ​**浮点数支持**​

```
10.5 % 3.2  # 输出 0.9（精度可能存在微小误差）
```

#### 4. ​**应用场景**​

- ​**奇偶判断**​：
    
    ```
    if num % 2 == 0: print("偶数")
    ```
    
- ​**循环索引控制**​：
    
    ```
    arr = [1, 2, 3]
    print(arr[i % len(arr)])  # 循环访问数组，避免越界
    ```
    
- ​**周期性任务**​（如每 N 次触发）：
    
    ```
    if current_step % 5 == 0: print("执行任务")
    ```
    

#### 5. ​**替代方法**​

- ​**`divmod()`**​：同时返回商和余数
    
    ```
    q, r = divmod(10, 3)  # q=3, r=1
    ```
    
- ​**`math.fmod()`**​：浮点数专用，结果符号与被除数相同
    
    ```
    import math
    math.fmod(-10, 3)  # 输出 -1.0
    ```
    

---

### ⚠️ 三、注意事项

1. ​**除数为零**​：`a % 0`会引发 `ZeroDivisionError`，需提前检查。
    
2. ​**占位符匹配**​：字符串格式化时，变量数量必须与占位符一致，否则报错。
    
3. ​**类型兼容性**​：浮点数取余可能存在精度问题（如 `10.5 % 3.2`输出 `0.89999...`）。
    

---

### 💎 四、总结对比

|​**用途**​|​**语法示例**​|​**核心功能**​|​**典型场景**​|
|---|---|---|---|
|​**字符串格式化**​|`"Name: %s" % "Alice"`|动态生成格式化的字符串|日志输出、报告生成、文本对齐|
|​**模运算**​|`10 % 3 → 1`|计算除法余数|奇偶判断、循环控制、哈希分配|
|​**字典格式化**​|`"%(key)s" % {"key":v}`|按键名插入值|复杂模板（如 SQL 语句）|
|​**浮点精度控制**​|`"%.2f" % 3.14159 → 3.14`|限制小数位数|金融计算、科学数据展示|

---

### 🔄 五、现代替代方案（Python 3.6+）

- ​**字符串格式化**​ → 优先使用 ​[[F-string]]：
    
    ```
    name = "Alice"
    print(f"Name: {name}, Height: {height:.1f}")  # 更简洁高效
    ```
    
- ​**模运算**​ → 结合 `divmod()`或位运算优化性能。
    

> ​**建议**​：旧代码维护可使用 `%`，新项目推荐 ​**f-string**​ 和 ​**`divmod()`**​ 以提升可读性与性能。